{"version":3,"sources":["utils.js","gui.js","sound.js","colors.js","index.js","node_modules/parcel/src/builtins/hmr-runtime.js"],"names":["createNode","n","v","document","createElementNS","p","setAttributeNS","replace","m","o","s","toLowerCase","downloadContent","filename","content","blob","Blob","event","MouseEvent","window","a","createElement","download","href","URL","createObjectURL","dispatchEvent","emptyElement","element","firstChild","removeChild","getParameterByName","name","url","location","regex","RegExp","results","exec","undefined","decodeURIComponent","getQueryStringObject","search","substring","split","map","str","key","value","decodeURI","reduce","prev","curr","Object","assign","getQueryStringObjectFromHash","hash","serializeObject","obj","keys","k","join","controls","id","type","min","max","step","Noise","track","audioContext","AudioContext","webkitAudioContext","createNoise","lastOut","bufferSize","sampleRate","noiseBuffer","createBuffer","output","getChannelData","i","white","Math","random","audioSource","buffer","stopNoise","stop","buildTrack","createBufferSource","gainNode","createGain","connect","destination","setGain","volume","gain","setValueAtTime","currentTime","linearRampToValueAtTime","playNoise","loop","start","play","COLORS","settings","setSettings","options","sound","setAttributes","attributes","entries","forEach","val","setAttribute","elements","control","label","text","createTextNode","input","innerHTML","appendChild","addEventListener","target","Array","from","querySelectorAll","memo","item","getElementById","params","SIZE","CENTER","tick","canvas","context","getContext","width","height","imageData","getImageData","ArrayBuffer","data","length","bufferViewInt8","Uint8ClampedArray","bufferViewInt32","Uint32Array","levelBuffer","levelBufferViewInt8","isInsideCircle","x1","y1","x2","y2","r","sqrt","rain","w","offsetWidth","style","y","x","index","isRain","isStreet","round","isUmbrella","moveDroplet","set","putImageData","src","nextLevel","rand","horizontalMovement","floor","parseFloat","horizontalMovementOffset","horizontalMovementMax","verticalMovement","verticalMovementOffset","verticalMovementMax","nextColor","color","render","requestAnimationFrame","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","console","clear","hmrApply","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","body","remove","stackTrace","innerText","getParents","modules","parents","d","dep","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"bitfire.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export const createNode = (n, v) => {\n    n = document.createElementNS(\"http://www.w3.org/2000/svg\", n);\n    for (var p in v)\n        n.setAttributeNS(null, p.replace(/[A-Z]/g, function (m, p, o, s) {\n            return \"-\" + m.toLowerCase();\n        }), v[p]);\n    return n\n};\n\nexport const downloadContent = (filename, content) => {\n    const blob = new Blob([content]);\n    const event = new MouseEvent('click', {\n        'view': window,\n        'bubbles': true,\n        'cancelable': true\n    });\n    const a = document.createElement(\"a\");\n    a.download = filename;\n    a.href = URL.createObjectURL(blob);\n    a.dispatchEvent(event);\n};\n\nexport const emptyElement = element => {\n    while (element.firstChild) {\n        element.removeChild(element.firstChild);\n    }\n    return element;\n};\n\nexport const getParameterByName = (name, url) => {\n    if (!url) {\n        url = window.location.href;\n    }\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n        results = regex.exec(url);\n    if (!results) return undefined;\n    if (!results[2]) return \"\";\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n};\n\nexport const getQueryStringObject = () => {\n    return window.location.search.substring(1).split('&')\n        .map(str => {\n            let [key, value] = str.split('=');\n            return {[key]: decodeURI(value)};\n        })\n        .reduce((prev, curr) => Object.assign(prev, curr));\n};\n\nexport const getQueryStringObjectFromHash = () => {\n    return window.location.hash.substring(1).split('&')\n        .map(str => {\n            let [key, value] = str.split('=');\n            return {[key]: decodeURI(value)};\n        })\n        .reduce((prev, curr) => Object.assign(prev, curr));\n};\n\n\nexport const serializeObject = obj => `#${Object.keys(obj).map(k=>`${k}=${obj[k]}`).join('&')}`;\n","export const controls = [{\n    id: 'horizontalMovementOffset',\n    type: 'range',\n    min: -2,\n    max: 2,\n    step: 0.1,\n    value: 0\n}, {\n    id: 'horizontalMovementMax',\n    type: 'range',\n    min: 0,\n    max: 10,\n    step: 1,\n    value: 1\n},{\n    id: 'verticalMovementOffset',\n    type: 'range',\n    min: -100,\n    max: 100,\n    step: 1,\n    value: -1\n}, {\n    id: 'verticalMovementMax',\n    type: 'range',\n    min: -100,\n    max: 100,\n    step: 1,\n    value: 5\n},{\n    id: 'sound',\n    type: 'range',\n    min: 0,\n    max: 1,\n    step: 1,\n    value: 0\n}, {\n    id: 'color',\n    type: 'range',\n    min: 0,\n    max: 2,\n    step: 1,\n    value: 0\n}];","export const Noise = (function () {\n\n    const track = {};\n    const audioContext = new (window.AudioContext || window.webkitAudioContext);\n\n    function createNoise(track) {\n        var lastOut = 0.0;\n        const bufferSize = 2 * audioContext.sampleRate;\n        const noiseBuffer = audioContext.createBuffer(1, bufferSize, audioContext.sampleRate);\n        const output = noiseBuffer.getChannelData(0);\n\n        for (let i = 0; i < bufferSize; i++) {\n            var white = Math.random() * 2 - 1;\n            output[i] = (lastOut + (0.02 * white)) / 1.02;\n            lastOut = output[i];\n            output[i] *= 3.5;\n        }\n\n        track.audioSource.buffer = noiseBuffer;\n    }\n\n    function stopNoise() {\n        if (track.audioSource) {\n            track.audioSource.stop();\n        }\n    }\n\n\n    function buildTrack(track) {\n        track.audioSource = audioContext.createBufferSource();\n        track.gainNode = audioContext.createGain();\n        track.audioSource.connect(track.gainNode);\n        track.gainNode.connect(audioContext.destination);\n    }\n\n    function setGain(track) {\n        track.volume = 0.1;\n        track.gainNode.gain.setValueAtTime(0, audioContext.currentTime);\n        track.gainNode.gain.linearRampToValueAtTime(track.volume / 4, audioContext.currentTime / 2);\n        track.gainNode.gain.linearRampToValueAtTime(track.volume, audioContext.currentTime);\n\n    }\n\n    function playNoise() {\n        stopNoise(track);\n        buildTrack(track);\n        createNoise(track);\n        setGain(track);\n        track.audioSource.loop = true;\n        track.audioSource.start();\n    }\n\n    // Expose functions:\n    return {\n        play: playNoise,\n        stop: stopNoise\n    }\n\n}());","// A gray-scale height-map.\nexport const COLORS = [[\n    [255, 255, 255],\n    [240, 240, 240],\n    [217, 217, 217],\n    [189, 189, 189],\n    [150, 150, 150],\n    [115, 115, 115],\n    [82, 82, 82],\n    [37, 37, 37],\n    [0, 0, 0]\n], [\n    [255, 255, 204],\n    [255, 237, 160],\n    [254, 217, 118],\n    [254, 178, 76],\n    [253, 141, 60],\n    [252, 78, 42],\n    [227, 26, 28],\n    [189, 0, 38],\n    [128, 0, 38]\n], [\n    [255, 247, 251],\n    [236, 231, 242],\n    [208, 209, 230],\n    [166, 189, 219],\n    [116, 169, 207],\n    [54, 144, 192],\n    [5, 112, 176],\n    [4, 90, 141],\n    [2, 56, 88]\n]];","import {getQueryStringObjectFromHash, serializeObject} from './utils.js';\n\n\nimport {controls} from \"./gui.js\";\nimport {Noise} from './sound';\nimport {COLORS} from \"./colors\";\n\nlet settings = {};\n\nconst setSettings = options => {\n    settings = options;\n    if (settings.sound === \"1\") {\n        Noise.play();\n    } else {\n        Noise.stop();\n    }\n};\n\nconst setAttributes = (element, attributes) => Object.entries(attributes)\n    .forEach(([key, val]) =>\n        element.setAttribute(key, val));\n\nconst elements = controls.map(control => {\n    const label = document.createElement('label');\n    const text = document.createTextNode(control.id);\n    const input = document.createElement('input');\n\n    setAttributes(input, control);\n\n    const val = document.createElement('span');\n    val.innerHTML = ` (${control.value})`;\n\n    label.appendChild(text);\n    label.appendChild(val);\n    label.appendChild(input);\n\n    input.addEventListener('change', event => {\n        val.innerHTML = ` (${event.target.value})`;\n        const options = Array.from(document.querySelectorAll('input'))\n            .map(({id, value}) => ({[id]: value}))\n            .reduce((memo, item) => Object.assign(memo, item), {});\n        location.hash = serializeObject(options);\n    });\n\n    return label;\n});\n\nconst target = document.getElementById('controls');\nelements.forEach(element => target.appendChild(element));\n\n// const search = window.location.search;\nconst params = getQueryStringObjectFromHash();\nObject.keys(params).forEach(key => {\n    const input = document.getElementById(key);\n    if (input) {\n        input.value = params[key];\n    }\n});\n\nwindow.addEventListener(\"hashchange\", event => {\n    const options = getQueryStringObjectFromHash();\n    setSettings(options);\n    Object.keys(options).forEach(key => {\n        const input = document.getElementById(key);\n        if (input) {\n            input.value = options[key];\n        }\n    });\n});\n\nconst options = Array.from(document.querySelectorAll('input'))\n    .map(({id, value}) => ({[id]: value}))\n    .reduce((memo, item) => Object.assign(memo, item), {});\n\nsetSettings(options);\n\n\nconst SIZE = 256;\nconst CENTER = SIZE / 2;\n\nlet tick = 0;\n\n\n// Setup the canvas.\nconst canvas = document.getElementById('canvas');\nconst context = canvas.getContext('2d');\n\ncanvas.width = SIZE;\ncanvas.height = SIZE;\n\nconst imageData = context.getImageData(0, 0, SIZE, SIZE);\n\n// One buffer to hold the color data for each pixel.\nconst buffer = new ArrayBuffer(imageData.data.length);\nconst bufferViewInt8 = new Uint8ClampedArray(buffer);\nconst bufferViewInt32 = new Uint32Array(buffer);\n\n// One buffer to hold the height map level for each pixel.\nconst levelBuffer = new ArrayBuffer(imageData.data.length);\nconst levelBufferViewInt8 = new Uint8ClampedArray(levelBuffer);\n\n// Check if a coordinate is inside a circle with center x1, y1 and radius r.\nfunction isInsideCircle(x1, y1, x2, y2, r) {\n    return Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2)) < r\n}\n\nfunction rain(tick) {\n\n    const w = canvas.offsetWidth;\n    canvas.style.height = w;\n\n    for (let y = 0; y < SIZE; y += (tick % 2) + 1) {\n        for (let x = 0; x < SIZE; x += (tick % 2) + 1) {\n\n            const index = (y) * SIZE + x;\n\n            // Generate rain in the top of the image.\n            const isRain = y < 2;\n\n            // Generate a flooded street in the bottom of the image.\n            const isStreet = y > Math.round(CENTER * 1.53) && y < Math.round(CENTER * 1.57);\n\n            // Mask out the silhouette of an umbrella in the middle of the image.\n            const isUmbrella = Math.random() > 0.8\n                && isInsideCircle(CENTER, CENTER, x, y, 32)\n                && !isInsideCircle(CENTER, CENTER - 10, x - 1, y, 40);\n\n            if (isRain || isStreet || isUmbrella) {\n                levelBufferViewInt8[index] = 0;\n            }\n\n            // Bring it to life.\n            moveDroplet(index);\n        }\n    }\n\n    // Update the canvas with the new pixel values.\n    imageData.data.set(bufferViewInt8);\n    context.putImageData(imageData, 0, 0);\n}\n\nfunction moveDroplet(src) {\n\n    const nextLevel = levelBufferViewInt8[src] + Math.round(Math.random() * 1.3);\n\n    // Generate a 0, 1 or 2.\n    const rand = Math.round(Math.random() * 2.0);\n\n    // Add horizontal movement to create a wind effect.\n    // const horizontalMovement = Math.random() > 0.8\n    //     ? src - rand + Math.floor((settings.wind * 8 - 3))\n    //     : src;\n    const horizontalMovement = src + Math.floor(parseFloat(settings.horizontalMovementOffset) + Math.random()*parseFloat(settings.horizontalMovementMax));\n\n\n    // Every 1 in 5 the rain will move up-wards and create the\n    // street splash effect.\n    const verticalMovement = Math.floor(parseFloat(settings.verticalMovementOffset) + Math.random()*parseFloat(settings.verticalMovementMax));\n\n    levelBufferViewInt8[horizontalMovement + (SIZE * verticalMovement)] = nextLevel - (rand & 1);\n\n    const nextColor = COLORS[settings.color][nextLevel] || 11;\n\n    // Set the new pixel value.\n    bufferViewInt32[src - SIZE] =\n        (255 << 24) |           // Alpha\n        (nextColor[2] << 16) |  // Blue\n        (nextColor[1] << 8) |   // Green\n        nextColor[0];           // Red\n}\n\nfunction render() {\n    rain(tick++);\n\n    // Go again!\n    // setTimeout(function () {\n    requestAnimationFrame(() => render());\n    // }, 100);\n}\n\n// Go!\nrender();\n\n\n\n\n// const wind = document.getElementById('wind');\n// wind.addEventListener('input', handleMousemove);\n\n// const rainRangeElement = document.getElementById('rain');\n// rainRangeElement.addEventListener('input', handleRainChange);\n\n\n// const soundRangeElement = document.getElementById('sound');\n// soundRangeElement.addEventListener('input', handleSoundChange);\n\n// const colorRangeElement = document.getElementById('color');\n// colorRangeElement.addEventListener('input', handleColorChange);\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] âœ¨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] ðŸš¨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">ðŸš¨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}