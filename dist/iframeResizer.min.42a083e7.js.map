{"version":3,"sources":["iframeResizer.js","node_modules/parcel/src/builtins/hmr-runtime.js"],"names":["undefined","window","$","count","logEnabled","hiddenCheckEnabled","msgHeaderLen","length","msgId","msgIdLen","pagePosition","requestAnimationFrame","resetRequiredMethods","max","scroll","bodyScroll","documentElementScroll","settings","timer","defaults","autoResize","bodyBackground","bodyMargin","bodyMarginV1","bodyPadding","checkOrigin","inPageLinks","enablePublicMethods","heightCalculationMethod","id","interval","log","maxHeight","Infinity","maxWidth","minHeight","minWidth","resizeFrom","scrolling","sizeHeight","sizeWidth","warningTimeout","tolerance","widthCalculationMethod","onClosed","onInit","onMessage","warn","onResized","onScroll","frameTimer","jQuery","fn","iFrameResize","options","this","filter","each","index","element","setupIFrame","end","info","define","amd","factory","module","exports","getMutationObserver","MutationObserver","WebKitMutationObserver","MozMutationObserver","addEventListener","el","evt","func","removeEventListener","formatLogHeader","iframeId","retStr","top","self","parentIFrame","getId","isLogEnabled","msg","output","type","enabled","console","iFrameListener","event","resizeIFrame","ensureInRange","syncResize","setSize","messageData","setPagePosition","on","Dimension","Number","min","dimension","toLowerCase","size","getMsgBody","offset","substr","indexOf","sendPageInfoToIframe","iframe","time","frameId","bodyPosition","iFramePosition","trigger","document","body","getBoundingClientRect","JSON","stringify","iframeHeight","height","iframeWidth","width","clientHeight","Math","documentElement","innerHeight","clientWidth","innerWidth","offsetTop","parseInt","offsetLeft","left","scrollTop","pageYOffset","scrollLeft","pageXOffset","documentHeight","documentWidth","windowHeight","windowWidth","setTimeout","getElementPosition","target","getPagePosition","x","floor","y","scrollRequestFromChild","addOffset","newPosition","scrollTo","unsetPagePosition","funcName","val","chkEvent","retBool","retCode","data","createOutgoingMsg","getElementById","iFrameReadyMsgReceived","split","loaded","true","false","remoteHost","origin","constructor","Array","i","checkList","Error","isMessageFromIFrame","firstRun","closeRequeston","closeIFrame","msgBody","message","parse","setListener","sendPageInfo","stop","forEach","stopPageInfo","startPageInfoMonitor","location","hash","hashData","decodeURIComponent","getElementsByName","jumpPosition","moveToAnchor","resetIFrame","actionMsg","retVal","TypeError","removeIframeListeners","parentNode","removeChild","error","chkZero","checkIFrames","Object","keys","key","settingId","chkDimension","style","offsetParent","checkIFrame","mutationObserved","mutations","debouce","querySelector","config","attributes","attributeOldValue","characterData","characterDataOldValue","childList","subtree","observe","fixHiddenIFrames","processDimension","doNotSync","calleeMsg","noResponseWarning","errorShown","contentWindow","targetOrigin","postMessage","msgTimeout","depricate","splitName","name","charAt","toUpperCase","slice","src","join","checkOptions","option","prototype","hasOwnProperty","call","copyOptions","overflow","setScrolling","addStyle","chkMinMax","setLimits","mutation","removedNodes","removedNode","resetRequertMethod","iFrameResizer","close","bind","removeListeners","resize","anchor","sendMessage","tabVisible","visibilityState","sendTriggerMsg","eventName","setupEventListeners","init","tagName","chkType","iFrames","push","vendors","setupRequestAnimationFrame","querySelectorAll","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","appendChild","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"iframeResizer.min.42a083e7.js","sourceRoot":"..","sourcesContent":["/*\n * File: iframeResizer.js\n * Desc: Force iframes to size to content.\n * Requires: iframeResizer.contentWindow.js to be loaded into the target frame.\n * Doc: https://github.com/davidjbradshaw/iframe-resizer\n * Author: David J. Bradshaw - dave@bradshaw.net\n * Contributor: Jure Mav - jure.mav@gmail.com\n * Contributor: Reed Dadoune - reed@dadoune.com\n */\n\n// eslint-disable-next-line sonarjs/cognitive-complexity, no-shadow-restricted-names\n;(function(undefined) {\n  if (typeof window === 'undefined') return // don't run for server side render\n\n  var count = 0,\n    logEnabled = false,\n    hiddenCheckEnabled = false,\n    msgHeader = 'message',\n    msgHeaderLen = msgHeader.length,\n    msgId = '[iFrameSizer]', // Must match iframe msg ID\n    msgIdLen = msgId.length,\n    pagePosition = null,\n    requestAnimationFrame = window.requestAnimationFrame,\n    resetRequiredMethods = {\n      max: 1,\n      scroll: 1,\n      bodyScroll: 1,\n      documentElementScroll: 1\n    },\n    settings = {},\n    timer = null,\n    defaults = {\n      autoResize: true,\n      bodyBackground: null,\n      bodyMargin: null,\n      bodyMarginV1: 8,\n      bodyPadding: null,\n      checkOrigin: true,\n      inPageLinks: false,\n      enablePublicMethods: true,\n      heightCalculationMethod: 'bodyOffset',\n      id: 'iFrameResizer',\n      interval: 32,\n      log: false,\n      maxHeight: Infinity,\n      maxWidth: Infinity,\n      minHeight: 0,\n      minWidth: 0,\n      resizeFrom: 'parent',\n      scrolling: false,\n      sizeHeight: true,\n      sizeWidth: false,\n      warningTimeout: 5000,\n      tolerance: 0,\n      widthCalculationMethod: 'scroll',\n      onClosed: function() {},\n      onInit: function() {},\n      onMessage: function() {\n        warn('onMessage function not defined')\n      },\n      onResized: function() {},\n      onScroll: function() {\n        return true\n      }\n    }\n\n  function getMutationObserver() {\n    return (\n      window.MutationObserver ||\n      window.WebKitMutationObserver ||\n      window.MozMutationObserver\n    )\n  }\n\n  function addEventListener(el, evt, func) {\n    el.addEventListener(evt, func, false)\n  }\n\n  function removeEventListener(el, evt, func) {\n    el.removeEventListener(evt, func, false)\n  }\n\n  function setupRequestAnimationFrame() {\n    var vendors = ['moz', 'webkit', 'o', 'ms']\n    var x\n\n    // Remove vendor prefixing if prefixed and break early if not\n    for (x = 0; x < vendors.length && !requestAnimationFrame; x += 1) {\n      requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame']\n    }\n\n    if (!requestAnimationFrame) {\n      log('setup', 'RequestAnimationFrame not supported')\n    }\n  }\n\n  function getMyID(iframeId) {\n    var retStr = 'Host page: ' + iframeId\n\n    if (window.top !== window.self) {\n      if (window.parentIFrame && window.parentIFrame.getId) {\n        retStr = window.parentIFrame.getId() + ': ' + iframeId\n      } else {\n        retStr = 'Nested host page: ' + iframeId\n      }\n    }\n\n    return retStr\n  }\n\n  function formatLogHeader(iframeId) {\n    return msgId + '[' + getMyID(iframeId) + ']'\n  }\n\n  function isLogEnabled(iframeId) {\n    return settings[iframeId] ? settings[iframeId].log : logEnabled\n  }\n\n  function log(iframeId, msg) {\n    output('log', iframeId, msg, isLogEnabled(iframeId))\n  }\n\n  function info(iframeId, msg) {\n    output('info', iframeId, msg, isLogEnabled(iframeId))\n  }\n\n  function warn(iframeId, msg) {\n    output('warn', iframeId, msg, true)\n  }\n\n  function output(type, iframeId, msg, enabled) {\n    if (true === enabled && 'object' === typeof window.console) {\n      // eslint-disable-next-line no-console\n      console[type](formatLogHeader(iframeId), msg)\n    }\n  }\n\n  function iFrameListener(event) {\n    function resizeIFrame() {\n      function resize() {\n        setSize(messageData)\n        setPagePosition(iframeId)\n        on('onResized', messageData)\n      }\n\n      ensureInRange('Height')\n      ensureInRange('Width')\n\n      syncResize(resize, messageData, 'init')\n    }\n\n    function processMsg() {\n      var data = msg.substr(msgIdLen).split(':')\n\n      return {\n        iframe: settings[data[0]] && settings[data[0]].iframe,\n        id: data[0],\n        height: data[1],\n        width: data[2],\n        type: data[3]\n      }\n    }\n\n    function ensureInRange(Dimension) {\n      var max = Number(settings[iframeId]['max' + Dimension]),\n        min = Number(settings[iframeId]['min' + Dimension]),\n        dimension = Dimension.toLowerCase(),\n        size = Number(messageData[dimension])\n\n      log(iframeId, 'Checking ' + dimension + ' is in range ' + min + '-' + max)\n\n      if (size < min) {\n        size = min\n        log(iframeId, 'Set ' + dimension + ' to min value')\n      }\n\n      if (size > max) {\n        size = max\n        log(iframeId, 'Set ' + dimension + ' to max value')\n      }\n\n      messageData[dimension] = '' + size\n    }\n\n    function isMessageFromIFrame() {\n      function checkAllowedOrigin() {\n        function checkList() {\n          var i = 0,\n            retCode = false\n\n          log(\n            iframeId,\n            'Checking connection is from allowed list of origins: ' +\n              checkOrigin\n          )\n\n          for (; i < checkOrigin.length; i++) {\n            if (checkOrigin[i] === origin) {\n              retCode = true\n              break\n            }\n          }\n          return retCode\n        }\n\n        function checkSingle() {\n          var remoteHost = settings[iframeId] && settings[iframeId].remoteHost\n          log(iframeId, 'Checking connection is from: ' + remoteHost)\n          return origin === remoteHost\n        }\n\n        return checkOrigin.constructor === Array ? checkList() : checkSingle()\n      }\n\n      var origin = event.origin,\n        checkOrigin = settings[iframeId] && settings[iframeId].checkOrigin\n\n      if (checkOrigin && '' + origin !== 'null' && !checkAllowedOrigin()) {\n        throw new Error(\n          'Unexpected message received from: ' +\n            origin +\n            ' for ' +\n            messageData.iframe.id +\n            '. Message was: ' +\n            event.data +\n            '. This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.'\n        )\n      }\n\n      return true\n    }\n\n    function isMessageForUs() {\n      return (\n        msgId === ('' + msg).substr(0, msgIdLen) &&\n        msg.substr(msgIdLen).split(':')[0] in settings\n      ) // ''+Protects against non-string msg\n    }\n\n    function isMessageFromMetaParent() {\n      // Test if this message is from a parent above us. This is an ugly test, however, updating\n      // the message format would break backwards compatibity.\n      var retCode = messageData.type in { true: 1, false: 1, undefined: 1 }\n\n      if (retCode) {\n        log(iframeId, 'Ignoring init message from meta parent page')\n      }\n\n      return retCode\n    }\n\n    function getMsgBody(offset) {\n      return msg.substr(msg.indexOf(':') + msgHeaderLen + offset)\n    }\n\n    function forwardMsgFromIFrame(msgBody) {\n      log(\n        iframeId,\n        'onMessage passed: {iframe: ' +\n          messageData.iframe.id +\n          ', message: ' +\n          msgBody +\n          '}'\n      )\n      on('onMessage', {\n        iframe: messageData.iframe,\n        message: JSON.parse(msgBody)\n      })\n      log(iframeId, '--')\n    }\n\n    function getPageInfo() {\n      var bodyPosition = document.body.getBoundingClientRect(),\n        iFramePosition = messageData.iframe.getBoundingClientRect()\n\n      return JSON.stringify({\n        iframeHeight: iFramePosition.height,\n        iframeWidth: iFramePosition.width,\n        clientHeight: Math.max(\n          document.documentElement.clientHeight,\n          window.innerHeight || 0\n        ),\n        clientWidth: Math.max(\n          document.documentElement.clientWidth,\n          window.innerWidth || 0\n        ),\n        offsetTop: parseInt(iFramePosition.top - bodyPosition.top, 10),\n        offsetLeft: parseInt(iFramePosition.left - bodyPosition.left, 10),\n        scrollTop: window.pageYOffset,\n        scrollLeft: window.pageXOffset,\n        documentHeight: document.documentElement.clientHeight,\n        documentWidth: document.documentElement.clientWidth,\n        windowHeight: window.innerHeight,\n        windowWidth: window.innerWidth\n      })\n    }\n\n    function sendPageInfoToIframe(iframe, iframeId) {\n      function debouncedTrigger() {\n        trigger('Send Page Info', 'pageInfo:' + getPageInfo(), iframe, iframeId)\n      }\n      debounceFrameEvents(debouncedTrigger, 32, iframeId)\n    }\n\n    function startPageInfoMonitor() {\n      function setListener(type, func) {\n        function sendPageInfo() {\n          if (settings[id]) {\n            sendPageInfoToIframe(settings[id].iframe, id)\n          } else {\n            stop()\n          }\n        }\n\n        ;['scroll', 'resize'].forEach(function(evt) {\n          log(id, type + evt + ' listener for sendPageInfo')\n          func(window, evt, sendPageInfo)\n        })\n      }\n\n      function stop() {\n        setListener('Remove ', removeEventListener)\n      }\n\n      function start() {\n        setListener('Add ', addEventListener)\n      }\n\n      var id = iframeId // Create locally scoped copy of iFrame ID\n\n      start()\n\n      if (settings[id]) {\n        settings[id].stopPageInfo = stop\n      }\n    }\n\n    function stopPageInfoMonitor() {\n      if (settings[iframeId] && settings[iframeId].stopPageInfo) {\n        settings[iframeId].stopPageInfo()\n        delete settings[iframeId].stopPageInfo\n      }\n    }\n\n    function checkIFrameExists() {\n      var retBool = true\n\n      if (null === messageData.iframe) {\n        warn(iframeId, 'IFrame (' + messageData.id + ') not found')\n        retBool = false\n      }\n      return retBool\n    }\n\n    function getElementPosition(target) {\n      var iFramePosition = target.getBoundingClientRect()\n\n      getPagePosition(iframeId)\n\n      return {\n        x: Math.floor(Number(iFramePosition.left) + Number(pagePosition.x)),\n        y: Math.floor(Number(iFramePosition.top) + Number(pagePosition.y))\n      }\n    }\n\n    function scrollRequestFromChild(addOffset) {\n      /* istanbul ignore next */ // Not testable in Karma\n      function reposition() {\n        pagePosition = newPosition\n        scrollTo()\n        log(iframeId, '--')\n      }\n\n      function calcOffset() {\n        return {\n          x: Number(messageData.width) + offset.x,\n          y: Number(messageData.height) + offset.y\n        }\n      }\n\n      function scrollParent() {\n        if (window.parentIFrame) {\n          window.parentIFrame['scrollTo' + (addOffset ? 'Offset' : '')](\n            newPosition.x,\n            newPosition.y\n          )\n        } else {\n          warn(\n            iframeId,\n            'Unable to scroll to requested position, window.parentIFrame not found'\n          )\n        }\n      }\n\n      var offset = addOffset\n          ? getElementPosition(messageData.iframe)\n          : { x: 0, y: 0 },\n        newPosition = calcOffset()\n\n      log(\n        iframeId,\n        'Reposition requested from iFrame (offset x:' +\n          offset.x +\n          ' y:' +\n          offset.y +\n          ')'\n      )\n\n      if (window.top !== window.self) {\n        scrollParent()\n      } else {\n        reposition()\n      }\n    }\n\n    function scrollTo() {\n      if (false !== on('onScroll', pagePosition)) {\n        setPagePosition(iframeId)\n      } else {\n        unsetPagePosition()\n      }\n    }\n\n    function findTarget(location) {\n      function jumpToTarget() {\n        var jumpPosition = getElementPosition(target)\n\n        log(\n          iframeId,\n          'Moving to in page link (#' +\n            hash +\n            ') at x: ' +\n            jumpPosition.x +\n            ' y: ' +\n            jumpPosition.y\n        )\n        pagePosition = {\n          x: jumpPosition.x,\n          y: jumpPosition.y\n        }\n\n        scrollTo()\n        log(iframeId, '--')\n      }\n\n      function jumpToParent() {\n        if (window.parentIFrame) {\n          window.parentIFrame.moveToAnchor(hash)\n        } else {\n          log(\n            iframeId,\n            'In page link #' +\n              hash +\n              ' not found and window.parentIFrame not found'\n          )\n        }\n      }\n\n      var hash = location.split('#')[1] || '',\n        hashData = decodeURIComponent(hash),\n        target =\n          document.getElementById(hashData) ||\n          document.getElementsByName(hashData)[0]\n\n      if (target) {\n        jumpToTarget()\n      } else if (window.top !== window.self) {\n        jumpToParent()\n      } else {\n        log(iframeId, 'In page link #' + hash + ' not found')\n      }\n    }\n\n    function on(funcName, val) {\n      return chkEvent(iframeId, funcName, val)\n    }\n\n    function actionMsg() {\n      if (settings[iframeId] && settings[iframeId].firstRun) firstRun()\n\n      switch (messageData.type) {\n        case 'close':\n          if (settings[iframeId].closeRequeston)\n            chkEvent(iframeId, 'onCloseRequest', settings[iframeId].iframe)\n          else closeIFrame(messageData.iframe)\n          break\n\n        case 'message':\n          forwardMsgFromIFrame(getMsgBody(6))\n          break\n\n        case 'scrollTo':\n          scrollRequestFromChild(false)\n          break\n\n        case 'scrollToOffset':\n          scrollRequestFromChild(true)\n          break\n\n        case 'pageInfo':\n          sendPageInfoToIframe(\n            settings[iframeId] && settings[iframeId].iframe,\n            iframeId\n          )\n          startPageInfoMonitor()\n          break\n\n        case 'pageInfoStop':\n          stopPageInfoMonitor()\n          break\n\n        case 'inPageLink':\n          findTarget(getMsgBody(9))\n          break\n\n        case 'reset':\n          resetIFrame(messageData)\n          break\n\n        case 'init':\n          resizeIFrame()\n          on('onInit', messageData.iframe)\n          break\n\n        default:\n          resizeIFrame()\n      }\n    }\n\n    function hasSettings(iframeId) {\n      var retBool = true\n\n      if (!settings[iframeId]) {\n        retBool = false\n        warn(\n          messageData.type +\n            ' No settings for ' +\n            iframeId +\n            '. Message was: ' +\n            msg\n        )\n      }\n\n      return retBool\n    }\n\n    function iFrameReadyMsgReceived() {\n      // eslint-disable-next-line no-restricted-syntax, guard-for-in\n      for (var iframeId in settings) {\n        trigger(\n          'iFrame requested init',\n          createOutgoingMsg(iframeId),\n          document.getElementById(iframeId),\n          iframeId\n        )\n      }\n    }\n\n    function firstRun() {\n      if (settings[iframeId]) {\n        settings[iframeId].firstRun = false\n      }\n    }\n\n    var msg = event.data,\n      messageData = {},\n      iframeId = null\n\n    if ('[iFrameResizerChild]Ready' === msg) {\n      iFrameReadyMsgReceived()\n    } else if (isMessageForUs()) {\n      messageData = processMsg()\n      iframeId = messageData.id\n      if (settings[iframeId]) {\n        settings[iframeId].loaded = true\n      }\n\n      if (!isMessageFromMetaParent() && hasSettings(iframeId)) {\n        log(iframeId, 'Received: ' + msg)\n\n        if (checkIFrameExists() && isMessageFromIFrame()) {\n          actionMsg()\n        }\n      }\n    } else {\n      info(iframeId, 'Ignored: ' + msg)\n    }\n  }\n\n  function chkEvent(iframeId, funcName, val) {\n    var func = null,\n      retVal = null\n\n    if (settings[iframeId]) {\n      func = settings[iframeId][funcName]\n\n      if ('function' === typeof func) {\n        retVal = func(val)\n      } else {\n        throw new TypeError(\n          funcName + ' on iFrame[' + iframeId + '] is not a function'\n        )\n      }\n    }\n\n    return retVal\n  }\n\n  function removeIframeListeners(iframe) {\n    var iframeId = iframe.id\n    delete settings[iframeId]\n  }\n\n  function closeIFrame(iframe) {\n    var iframeId = iframe.id\n    log(iframeId, 'Removing iFrame: ' + iframeId)\n\n    try {\n      // Catch race condition error with React\n      if (iframe.parentNode) {\n        iframe.parentNode.removeChild(iframe)\n      }\n    } catch (error) {\n      warn(error)\n    }\n\n    chkEvent(iframeId, 'onClosed', iframeId)\n    log(iframeId, '--')\n    removeIframeListeners(iframe)\n  }\n\n  function getPagePosition(iframeId) {\n    if (null === pagePosition) {\n      pagePosition = {\n        x:\n          window.pageXOffset !== undefined\n            ? window.pageXOffset\n            : document.documentElement.scrollLeft,\n        y:\n          window.pageYOffset !== undefined\n            ? window.pageYOffset\n            : document.documentElement.scrollTop\n      }\n      log(\n        iframeId,\n        'Get page position: ' + pagePosition.x + ',' + pagePosition.y\n      )\n    }\n  }\n\n  function setPagePosition(iframeId) {\n    if (null !== pagePosition) {\n      window.scrollTo(pagePosition.x, pagePosition.y)\n      log(\n        iframeId,\n        'Set page position: ' + pagePosition.x + ',' + pagePosition.y\n      )\n      unsetPagePosition()\n    }\n  }\n\n  function unsetPagePosition() {\n    pagePosition = null\n  }\n\n  function resetIFrame(messageData) {\n    function reset() {\n      setSize(messageData)\n      trigger('reset', 'reset', messageData.iframe, messageData.id)\n    }\n\n    log(\n      messageData.id,\n      'Size reset requested by ' +\n        ('init' === messageData.type ? 'host page' : 'iFrame')\n    )\n    getPagePosition(messageData.id)\n    syncResize(reset, messageData, 'reset')\n  }\n\n  function setSize(messageData) {\n    function setDimension(dimension) {\n      if (!messageData.id) {\n        log('undefined', 'messageData id not set')\n        return\n      }\n      messageData.iframe.style[dimension] = messageData[dimension] + 'px'\n      log(\n        messageData.id,\n        'IFrame (' +\n          iframeId +\n          ') ' +\n          dimension +\n          ' set to ' +\n          messageData[dimension] +\n          'px'\n      )\n    }\n\n    function chkZero(dimension) {\n      // FireFox sets dimension of hidden iFrames to zero.\n      // So if we detect that set up an event to check for\n      // when iFrame becomes visible.\n\n      /* istanbul ignore next */ // Not testable in PhantomJS\n      if (!hiddenCheckEnabled && '0' === messageData[dimension]) {\n        hiddenCheckEnabled = true\n        log(iframeId, 'Hidden iFrame detected, creating visibility listener')\n        fixHiddenIFrames()\n      }\n    }\n\n    function processDimension(dimension) {\n      setDimension(dimension)\n      chkZero(dimension)\n    }\n\n    var iframeId = messageData.iframe.id\n\n    if (settings[iframeId]) {\n      if (settings[iframeId].sizeHeight) {\n        processDimension('height')\n      }\n      if (settings[iframeId].sizeWidth) {\n        processDimension('width')\n      }\n    }\n  }\n\n  function syncResize(func, messageData, doNotSync) {\n    /* istanbul ignore if */ // Not testable in PhantomJS\n    if (doNotSync !== messageData.type && requestAnimationFrame) {\n      log(messageData.id, 'Requesting animation frame')\n      requestAnimationFrame(func)\n    } else {\n      func()\n    }\n  }\n\n  function trigger(calleeMsg, msg, iframe, id, noResponseWarning) {\n    function postMessageToIFrame() {\n      var target = settings[id] && settings[id].targetOrigin\n      log(\n        id,\n        '[' +\n          calleeMsg +\n          '] Sending msg to iframe[' +\n          id +\n          '] (' +\n          msg +\n          ') targetOrigin: ' +\n          target\n      )\n      iframe.contentWindow.postMessage(msgId + msg, target)\n    }\n\n    function iFrameNotFound() {\n      warn(id, '[' + calleeMsg + '] IFrame(' + id + ') not found')\n    }\n\n    function chkAndSend() {\n      if (\n        iframe &&\n        'contentWindow' in iframe &&\n        null !== iframe.contentWindow\n      ) {\n        // Null test for PhantomJS\n        postMessageToIFrame()\n      } else {\n        iFrameNotFound()\n      }\n    }\n\n    function warnOnNoResponse() {\n      function warning() {\n        if (settings[id] && !settings[id].loaded && !errorShown) {\n          errorShown = true\n          warn(\n            id,\n            'IFrame has not responded within ' +\n              settings[id].warningTimeout / 1000 +\n              ' seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning.'\n          )\n        }\n      }\n\n      if (\n        !!noResponseWarning &&\n        settings[id] &&\n        !!settings[id].warningTimeout\n      ) {\n        settings[id].msgTimeout = setTimeout(\n          warning,\n          settings[id].warningTimeout\n        )\n      }\n    }\n\n    var errorShown = false\n\n    id = id || iframe.id\n\n    if (settings[id]) {\n      chkAndSend()\n      warnOnNoResponse()\n    }\n  }\n\n  function createOutgoingMsg(iframeId) {\n    return (\n      iframeId +\n      ':' +\n      settings[iframeId].bodyMarginV1 +\n      ':' +\n      settings[iframeId].sizeWidth +\n      ':' +\n      settings[iframeId].log +\n      ':' +\n      settings[iframeId].interval +\n      ':' +\n      settings[iframeId].enablePublicMethods +\n      ':' +\n      settings[iframeId].autoResize +\n      ':' +\n      settings[iframeId].bodyMargin +\n      ':' +\n      settings[iframeId].heightCalculationMethod +\n      ':' +\n      settings[iframeId].bodyBackground +\n      ':' +\n      settings[iframeId].bodyPadding +\n      ':' +\n      settings[iframeId].tolerance +\n      ':' +\n      settings[iframeId].inPageLinks +\n      ':' +\n      settings[iframeId].resizeFrom +\n      ':' +\n      settings[iframeId].widthCalculationMethod\n    )\n  }\n\n  function setupIFrame(iframe, options) {\n    function setLimits() {\n      function addStyle(style) {\n        if (\n          Infinity !== settings[iframeId][style] &&\n          0 !== settings[iframeId][style]\n        ) {\n          iframe.style[style] = settings[iframeId][style] + 'px'\n          log(\n            iframeId,\n            'Set ' + style + ' = ' + settings[iframeId][style] + 'px'\n          )\n        }\n      }\n\n      function chkMinMax(dimension) {\n        if (\n          settings[iframeId]['min' + dimension] >\n          settings[iframeId]['max' + dimension]\n        ) {\n          throw new Error(\n            'Value for min' +\n              dimension +\n              ' can not be greater than max' +\n              dimension\n          )\n        }\n      }\n\n      chkMinMax('Height')\n      chkMinMax('Width')\n\n      addStyle('maxHeight')\n      addStyle('minHeight')\n      addStyle('maxWidth')\n      addStyle('minWidth')\n    }\n\n    function newId() {\n      var id = (options && options.id) || defaults.id + count++\n      if (null !== document.getElementById(id)) {\n        id += count++\n      }\n      return id\n    }\n\n    function ensureHasId(iframeId) {\n      if ('' === iframeId) {\n        // eslint-disable-next-line no-multi-assign\n        iframe.id = iframeId = newId()\n        logEnabled = (options || {}).log\n        log(\n          iframeId,\n          'Added missing iframe ID: ' + iframeId + ' (' + iframe.src + ')'\n        )\n      }\n\n      return iframeId\n    }\n\n    function setScrolling() {\n      log(\n        iframeId,\n        'IFrame scrolling ' +\n          (settings[iframeId] && settings[iframeId].scrolling\n            ? 'enabled'\n            : 'disabled') +\n          ' for ' +\n          iframeId\n      )\n      iframe.style.overflow =\n        false === (settings[iframeId] && settings[iframeId].scrolling)\n          ? 'hidden'\n          : 'auto'\n      switch (settings[iframeId] && settings[iframeId].scrolling) {\n        case 'omit':\n          break\n\n        case true:\n          iframe.scrolling = 'yes'\n          break\n\n        case false:\n          iframe.scrolling = 'no'\n          break\n\n        default:\n          iframe.scrolling = settings[iframeId]\n            ? settings[iframeId].scrolling\n            : 'no'\n      }\n    }\n\n    // The V1 iFrame script expects an int, where as in V2 expects a CSS\n    // string value such as '1px 3em', so if we have an int for V2, set V1=V2\n    // and then convert V2 to a string PX value.\n    function setupBodyMarginValues() {\n      if (\n        'number' ===\n          typeof (settings[iframeId] && settings[iframeId].bodyMargin) ||\n        '0' === (settings[iframeId] && settings[iframeId].bodyMargin)\n      ) {\n        settings[iframeId].bodyMarginV1 = settings[iframeId].bodyMargin\n        settings[iframeId].bodyMargin =\n          '' + settings[iframeId].bodyMargin + 'px'\n      }\n    }\n\n    function checkReset() {\n      // Reduce scope of firstRun to function, because IE8's JS execution\n      // context stack is borked and this value gets externally\n      // changed midway through running this function!!!\n      var firstRun = settings[iframeId] && settings[iframeId].firstRun,\n        resetRequertMethod =\n          settings[iframeId] &&\n          settings[iframeId].heightCalculationMethod in resetRequiredMethods\n\n      if (!firstRun && resetRequertMethod) {\n        resetIFrame({ iframe: iframe, height: 0, width: 0, type: 'init' })\n      }\n    }\n\n    function setupIFrameObject() {\n      if (settings[iframeId]) {\n        settings[iframeId].iframe.iFrameResizer = {\n          close: closeIFrame.bind(null, settings[iframeId].iframe),\n\n          removeListeners: removeIframeListeners.bind(\n            null,\n            settings[iframeId].iframe\n          ),\n\n          resize: trigger.bind(\n            null,\n            'Window resize',\n            'resize',\n            settings[iframeId].iframe\n          ),\n\n          moveToAnchor: function(anchor) {\n            trigger(\n              'Move to anchor',\n              'moveToAnchor:' + anchor,\n              settings[iframeId].iframe,\n              iframeId\n            )\n          },\n\n          sendMessage: function(message) {\n            message = JSON.stringify(message)\n            trigger(\n              'Send Message',\n              'message:' + message,\n              settings[iframeId].iframe,\n              iframeId\n            )\n          }\n        }\n      }\n    }\n\n    // We have to call trigger twice, as we can not be sure if all\n    // iframes have completed loading when this code runs. The\n    // event listener also catches the page changing in the iFrame.\n    function init(msg) {\n      function iFrameLoaded() {\n        trigger('iFrame.onload', msg, iframe, undefined, true)\n        checkReset()\n      }\n\n      function createDestroyObserver(MutationObserver) {\n        if (!iframe.parentNode) {\n          return\n        }\n\n        var destroyObserver = new MutationObserver(function(mutations) {\n          mutations.forEach(function(mutation) {\n            var removedNodes = Array.prototype.slice.call(mutation.removedNodes) // Transform NodeList into an Array\n            removedNodes.forEach(function(removedNode) {\n              if (removedNode === iframe) {\n                closeIFrame(iframe)\n              }\n            })\n          })\n        })\n        destroyObserver.observe(iframe.parentNode, {\n          childList: true\n        })\n      }\n\n      var MutationObserver = getMutationObserver()\n      if (MutationObserver) {\n        createDestroyObserver(MutationObserver)\n      }\n\n      addEventListener(iframe, 'load', iFrameLoaded)\n      trigger('init', msg, iframe, undefined, true)\n    }\n\n    function checkOptions(options) {\n      if ('object' !== typeof options) {\n        throw new TypeError('Options is not an object')\n      }\n    }\n\n    function copyOptions(options) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (var option in defaults) {\n        if (Object.prototype.hasOwnProperty.call(defaults, option)) {\n          settings[iframeId][option] = Object.prototype.hasOwnProperty.call(\n            options,\n            option\n          )\n            ? options[option]\n            : defaults[option]\n        }\n      }\n    }\n\n    function getTargetOrigin(remoteHost) {\n      return '' === remoteHost || 'file://' === remoteHost ? '*' : remoteHost\n    }\n\n    function depricate(key) {\n      var splitName = key.split('Callback')\n\n      if (splitName.length === 2) {\n        var name =\n          'on' + splitName[0].charAt(0).toUpperCase() + splitName[0].slice(1)\n        this[name] = this[key]\n        delete this[key]\n        warn(\n          iframeId,\n          \"Deprecated: '\" +\n            key +\n            \"' has been renamed '\" +\n            name +\n            \"'. The old method will be removed in the next major version.\"\n        )\n      }\n    }\n\n    function processOptions(options) {\n      options = options || {}\n      settings[iframeId] = {\n        firstRun: true,\n        iframe: iframe,\n        remoteHost: iframe.src\n          .split('/')\n          .slice(0, 3)\n          .join('/')\n      }\n\n      checkOptions(options)\n      Object.keys(options).forEach(depricate, options)\n      copyOptions(options)\n\n      if (settings[iframeId]) {\n        settings[iframeId].targetOrigin =\n          true === settings[iframeId].checkOrigin\n            ? getTargetOrigin(settings[iframeId].remoteHost)\n            : '*'\n      }\n    }\n\n    function beenHere() {\n      return iframeId in settings && 'iFrameResizer' in iframe\n    }\n\n    var iframeId = ensureHasId(iframe.id)\n\n    if (!beenHere()) {\n      processOptions(options)\n      setScrolling()\n      setLimits()\n      setupBodyMarginValues()\n      init(createOutgoingMsg(iframeId))\n      setupIFrameObject()\n    } else {\n      warn(iframeId, 'Ignored iFrame, already setup.')\n    }\n  }\n\n  function debouce(fn, time) {\n    if (null === timer) {\n      timer = setTimeout(function() {\n        timer = null\n        fn()\n      }, time)\n    }\n  }\n\n  var frameTimer = {}\n  function debounceFrameEvents(fn, time, frameId) {\n    if (!frameTimer[frameId]) {\n      frameTimer[frameId] = setTimeout(function() {\n        frameTimer[frameId] = null\n        fn()\n      }, time)\n    }\n  }\n\n  // Not testable in PhantomJS\n  /* istanbul ignore next */\n\n  function fixHiddenIFrames() {\n    function checkIFrames() {\n      function checkIFrame(settingId) {\n        function chkDimension(dimension) {\n          return (\n            '0px' ===\n            (settings[settingId] && settings[settingId].iframe.style[dimension])\n          )\n        }\n\n        function isVisible(el) {\n          return null !== el.offsetParent\n        }\n\n        if (\n          settings[settingId] &&\n          isVisible(settings[settingId].iframe) &&\n          (chkDimension('height') || chkDimension('width'))\n        ) {\n          trigger(\n            'Visibility change',\n            'resize',\n            settings[settingId].iframe,\n            settingId\n          )\n        }\n      }\n\n      Object.keys(settings).forEach(function(key) {\n        checkIFrame(settings[key])\n      })\n    }\n\n    function mutationObserved(mutations) {\n      log(\n        'window',\n        'Mutation observed: ' + mutations[0].target + ' ' + mutations[0].type\n      )\n      debouce(checkIFrames, 16)\n    }\n\n    function createMutationObserver() {\n      var target = document.querySelector('body'),\n        config = {\n          attributes: true,\n          attributeOldValue: false,\n          characterData: true,\n          characterDataOldValue: false,\n          childList: true,\n          subtree: true\n        },\n        observer = new MutationObserver(mutationObserved)\n\n      observer.observe(target, config)\n    }\n\n    var MutationObserver = getMutationObserver()\n    if (MutationObserver) {\n      createMutationObserver()\n    }\n  }\n\n  function resizeIFrames(event) {\n    function resize() {\n      sendTriggerMsg('Window ' + event, 'resize')\n    }\n\n    log('window', 'Trigger event: ' + event)\n    debouce(resize, 16)\n  }\n\n  // Not testable in PhantomJS\n  /* istanbul ignore next */\n  function tabVisible() {\n    function resize() {\n      sendTriggerMsg('Tab Visable', 'resize')\n    }\n\n    if ('hidden' !== document.visibilityState) {\n      log('document', 'Trigger event: Visiblity change')\n      debouce(resize, 16)\n    }\n  }\n\n  function sendTriggerMsg(eventName, event) {\n    function isIFrameResizeEnabled(iframeId) {\n      return (\n        settings[iframeId] &&\n        'parent' === settings[iframeId].resizeFrom &&\n        settings[iframeId].autoResize &&\n        !settings[iframeId].firstRun\n      )\n    }\n\n    Object.keys(settings).forEach(function(iframeId) {\n      if (isIFrameResizeEnabled(iframeId)) {\n        trigger(eventName, event, document.getElementById(iframeId), iframeId)\n      }\n    })\n  }\n\n  function setupEventListeners() {\n    addEventListener(window, 'message', iFrameListener)\n\n    addEventListener(window, 'resize', function() {\n      resizeIFrames('resize')\n    })\n\n    addEventListener(document, 'visibilitychange', tabVisible)\n\n    addEventListener(document, '-webkit-visibilitychange', tabVisible)\n  }\n\n  function factory() {\n    function init(options, element) {\n      function chkType() {\n        if (!element.tagName) {\n          throw new TypeError('Object is not a valid DOM element')\n        } else if ('IFRAME' !== element.tagName.toUpperCase()) {\n          throw new TypeError(\n            'Expected <IFRAME> tag, found <' + element.tagName + '>'\n          )\n        }\n      }\n\n      if (element) {\n        chkType()\n        setupIFrame(element, options)\n        iFrames.push(element)\n      }\n    }\n\n    function warnDeprecatedOptions(options) {\n      if (options && options.enablePublicMethods) {\n        warn(\n          'enablePublicMethods option has been removed, public methods are now always available in the iFrame'\n        )\n      }\n    }\n\n    var iFrames\n\n    setupRequestAnimationFrame()\n    setupEventListeners()\n\n    return function iFrameResizeF(options, target) {\n      iFrames = [] // Only return iFrames past in on this call\n\n      warnDeprecatedOptions(options)\n\n      switch (typeof target) {\n        case 'undefined':\n        case 'string':\n          Array.prototype.forEach.call(\n            document.querySelectorAll(target || 'iframe'),\n            init.bind(undefined, options)\n          )\n          break\n\n        case 'object':\n          init(options, target)\n          break\n\n        default:\n          throw new TypeError('Unexpected data type (' + typeof target + ')')\n      }\n\n      return iFrames\n    }\n  }\n\n  function createJQueryPublicMethod($) {\n    if (!$.fn) {\n      info('', 'Unable to bind to jQuery, it is not fully loaded.')\n    } else if (!$.fn.iFrameResize) {\n      $.fn.iFrameResize = function $iFrameResizeF(options) {\n        function init(index, element) {\n          setupIFrame(element, options)\n        }\n\n        return this.filter('iframe')\n          .each(init)\n          .end()\n      }\n    }\n  }\n\n  if (window.jQuery) {\n    createJQueryPublicMethod(window.jQuery)\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define([], factory)\n  } else if (typeof module === 'object' && typeof module.exports === 'object') {\n    // Node for browserfy\n    module.exports = factory()\n  }\n  window.iFrameResize = window.iFrameResize || factory()\n})()\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}