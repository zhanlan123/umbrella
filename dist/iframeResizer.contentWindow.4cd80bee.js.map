{"version":3,"sources":["node_modules/iframe-resizer/js/iframeResizer.contentWindow.js","node_modules/parcel/src/builtins/hmr-runtime.js"],"names":["undefined","window","autoResize","base","bodyBackground","bodyMargin","bodyMarginStr","bodyObserver","bodyPadding","calculateWidth","doubleEventList","resize","click","eventCancelTimer","firstRun","height","heightCalcModeDefault","heightCalcMode","initLock","initMsg","inPageLinks","interval","intervalTimer","logging","msgID","msgIdLen","length","myID","resetRequiredMethods","max","min","bodyScroll","documentElementScroll","resizeFrom","sendPermit","target","parent","targetOriginDefault","tolerance","triggerLocked","triggerLockedTimer","throttledTimer","width","widthCalcModeDefault","widthCalcMode","win","onMessage","warn","onReady","onPageInfo","customCalcMethods","document","documentElement","offsetHeight","body","scrollWidth","eventHandlersByName","passiveSupported","noop","options","Object","create","passive","get","addEventListener","removeEventListener","error","el","evt","func","capitalizeFirstLetter","string","charAt","toUpperCase","slice","throttle","context","args","result","timeout","previous","later","getNow","apply","now","remaining","arguments","clearTimeout","setTimeout","Date","getTime","formatLogMsg","msg","log","console","init","readDataFromParent","location","href","readDataFromPage","setMargin","setBodyStyle","injectClearFixIntoBodyElement","checkHeightMode","checkWidthMode","stopInfiniteResizingOfIFrame","setupPublicMethods","startEventListeners","setupInPageLinks","sendSize","strBool","str","data","substr","split","Number","enable","depricate","key","splitName","name","readData","iFrameResizer","JSON","stringify","keys","forEach","targetOrigin","heightCalculationMethod","widthCalculationMethod","setupCustomCalcMethods","calcMode","calcFunc","constructor","chkCSS","attr","value","indexOf","style","manageTriggerEvent","listener","add","eventName","handleEvent","eventType","remove","eventNames","Array","prototype","map","method","manageEventListeners","checkCalcMode","calcModeDefault","modes","type","getHeight","getWidth","setupMutationObserver","stopMsgsToParent","removeMsgListener","receiver","disconnectMutationObserver","disconnect","stopEventListeners","clearInterval","teardown","clearFix","createElement","clear","display","appendChild","getPagePosition","x","pageXOffset","scrollLeft","y","pageYOffset","scrollTop","getElementPosition","elPosition","getBoundingClientRect","pagePosition","parseInt","left","top","findTarget","jumpToTarget","jumpPosition","hash","sendMsg","hashData","decodeURIComponent","getElementById","getElementsByName","checkLocationHash","bindAnchors","setupLink","linkClicked","e","preventDefault","getAttribute","call","querySelectorAll","bindLocationHash","initCheck","enableInPageLinks","parentIFrame","autoResizeF","close","closeF","getId","getIdF","getPageInfo","getPageInfoF","callback","moveToAnchor","moveToAnchorF","reset","resetF","resetIFrame","scrollTo","scrollToF","scrollToOffset","sendMessage","sendMessageF","setHeightCalculationMethod","setHeightCalculationMethodF","setWidthCalculationMethod","setWidthCalculationMethodF","setTargetOrigin","setTargetOriginF","size","sizeF","customHeight","customWidth","valString","initInterval","setInterval","Math","abs","setupBodyMutationObserver","addImageLoadListners","mutation","addImageLoadListener","element","complete","src","imageLoaded","imageError","elements","push","attributeName","removeFromArray","splice","removeImageLoadListener","imageEventTriggered","event","typeDesc","mutationObserved","mutations","createMutationObserver","querySelector","config","attributes","attributeOldValue","characterData","characterDataOldValue","childList","subtree","observer","MutationObserver","observe","WebKitMutationObserver","forceIntervalTimer","getComputedStyle","prop","retVal","defaultView","chkEventThottle","timer","getMaxElement","side","elementsLength","elVal","maxVal","Side","i","getAllMeasurements","dimention","bodyOffset","documentElementOffset","getTaggedElements","tag","noTaggedElementsFound","getAllElements","getBodyOffsetHeight","offset","getBodyScrollHeight","scrollHeight","custom","getCustomWidth","getDEOffsetHeight","getDEScrollHeight","getMaxHeight","getMinHeight","grow","growHeight","lowestElement","getBestHeight","taggedElement","getTaggedElementsHeight","getBodyScrollWidth","getBodyOffsetWidth","offsetWidth","getDEScrollWidth","getDEOffsetWidth","scroll","getMaxWidth","getMinWidth","rightMostElement","getTaggedElementsWidth","sizeIFrame","triggerEvent","triggerEventDesc","resizeIFrame","currentHeight","currentWidth","isSizeChangeDetected","checkTolarance","a","b","isForceResizableEvent","isForceResizableCalcMode","logIgnored","checkDownSizing","lockTrigger","sizeIFrameThrottled","recordTrigger","resetPage","isDoubleFiredEvent","triggerReset","hcm","sendToParent","message","postMessage","processRequestFromParent","initFromParent","source","resetFromParent","resizeFromParent","getData","inPageLink","inPageLinkF","pageInfo","pageInfoFromParent","msgBody","parse","messageFromParent","isMessageForUs","getMessageType","isMiddleTier","module","exports","jQuery","isInitMsg","true","false","callFromParent","messageType","processMessage","chkLateLoaded","readyState","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","hmrApply","v","hmrAcceptRun","reload","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"iframeResizer.contentWindow.4cd80bee.js","sourceRoot":"..","sourcesContent":["/*\n * File: iframeResizer.contentWindow.js\n * Desc: Include this file in any page being loaded into an iframe\n *       to force the iframe to resize to the content size.\n * Requires: iframeResizer.js on host page.\n * Doc: https://github.com/davidjbradshaw/iframe-resizer\n * Author: David J. Bradshaw - dave@bradshaw.net\n *\n */\n\n// eslint-disable-next-line sonarjs/cognitive-complexity, no-shadow-restricted-names\n;(function(undefined) {\n  if (typeof window === 'undefined') return // don't run for server side render\n\n  var autoResize = true,\n    base = 10,\n    bodyBackground = '',\n    bodyMargin = 0,\n    bodyMarginStr = '',\n    bodyObserver = null,\n    bodyPadding = '',\n    calculateWidth = false,\n    doubleEventList = { resize: 1, click: 1 },\n    eventCancelTimer = 128,\n    firstRun = true,\n    height = 1,\n    heightCalcModeDefault = 'bodyOffset',\n    heightCalcMode = heightCalcModeDefault,\n    initLock = true,\n    initMsg = '',\n    inPageLinks = {},\n    interval = 32,\n    intervalTimer = null,\n    logging = false,\n    msgID = '[iFrameSizer]', // Must match host page msg ID\n    msgIdLen = msgID.length,\n    myID = '',\n    resetRequiredMethods = {\n      max: 1,\n      min: 1,\n      bodyScroll: 1,\n      documentElementScroll: 1\n    },\n    resizeFrom = 'child',\n    sendPermit = true,\n    target = window.parent,\n    targetOriginDefault = '*',\n    tolerance = 0,\n    triggerLocked = false,\n    triggerLockedTimer = null,\n    throttledTimer = 16,\n    width = 1,\n    widthCalcModeDefault = 'scroll',\n    widthCalcMode = widthCalcModeDefault,\n    win = window,\n    onMessage = function() {\n      warn('onMessage function not defined')\n    },\n    onReady = function() {},\n    onPageInfo = function() {},\n    customCalcMethods = {\n      height: function() {\n        warn('Custom height calculation function not defined')\n        return document.documentElement.offsetHeight\n      },\n      width: function() {\n        warn('Custom width calculation function not defined')\n        return document.body.scrollWidth\n      }\n    },\n    eventHandlersByName = {},\n    passiveSupported = false\n\n  function noop() {}\n\n  try {\n    var options = Object.create(\n      {},\n      {\n        passive: {\n          get: function() {\n            passiveSupported = true\n          }\n        }\n      }\n    )\n    window.addEventListener('test', noop, options)\n    window.removeEventListener('test', noop, options)\n  } catch (error) {\n    /* */\n  }\n\n  function addEventListener(el, evt, func, options) {\n    el.addEventListener(evt, func, passiveSupported ? options || {} : false)\n  }\n\n  function removeEventListener(el, evt, func) {\n    el.removeEventListener(evt, func, false)\n  }\n\n  function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1)\n  }\n\n  // Based on underscore.js\n  function throttle(func) {\n    var context,\n      args,\n      result,\n      timeout = null,\n      previous = 0,\n      later = function() {\n        previous = getNow()\n        timeout = null\n        result = func.apply(context, args)\n        if (!timeout) {\n          // eslint-disable-next-line no-multi-assign\n          context = args = null\n        }\n      }\n\n    return function() {\n      var now = getNow()\n\n      if (!previous) {\n        previous = now\n      }\n\n      var remaining = throttledTimer - (now - previous)\n\n      context = this\n      args = arguments\n\n      if (remaining <= 0 || remaining > throttledTimer) {\n        if (timeout) {\n          clearTimeout(timeout)\n          timeout = null\n        }\n\n        previous = now\n        result = func.apply(context, args)\n\n        if (!timeout) {\n          // eslint-disable-next-line no-multi-assign\n          context = args = null\n        }\n      } else if (!timeout) {\n        timeout = setTimeout(later, remaining)\n      }\n\n      return result\n    }\n  }\n\n  var getNow =\n    Date.now ||\n    function() {\n      /* istanbul ignore next */ // Not testable in PhantonJS\n      return new Date().getTime()\n    }\n\n  function formatLogMsg(msg) {\n    return msgID + '[' + myID + '] ' + msg\n  }\n\n  function log(msg) {\n    if (logging && 'object' === typeof window.console) {\n      // eslint-disable-next-line no-console\n      console.log(formatLogMsg(msg))\n    }\n  }\n\n  function warn(msg) {\n    if ('object' === typeof window.console) {\n      // eslint-disable-next-line no-console\n      console.warn(formatLogMsg(msg))\n    }\n  }\n\n  function init() {\n    readDataFromParent()\n    log('Initialising iFrame (' + location.href + ')')\n    readDataFromPage()\n    setMargin()\n    setBodyStyle('background', bodyBackground)\n    setBodyStyle('padding', bodyPadding)\n    injectClearFixIntoBodyElement()\n    checkHeightMode()\n    checkWidthMode()\n    stopInfiniteResizingOfIFrame()\n    setupPublicMethods()\n    startEventListeners()\n    inPageLinks = setupInPageLinks()\n    sendSize('init', 'Init message from host page')\n    onReady()\n  }\n\n  function readDataFromParent() {\n    function strBool(str) {\n      return 'true' === str\n    }\n\n    var data = initMsg.substr(msgIdLen).split(':')\n\n    myID = data[0]\n    bodyMargin = undefined !== data[1] ? Number(data[1]) : bodyMargin // For V1 compatibility\n    calculateWidth = undefined !== data[2] ? strBool(data[2]) : calculateWidth\n    logging = undefined !== data[3] ? strBool(data[3]) : logging\n    interval = undefined !== data[4] ? Number(data[4]) : interval\n    autoResize = undefined !== data[6] ? strBool(data[6]) : autoResize\n    bodyMarginStr = data[7]\n    heightCalcMode = undefined !== data[8] ? data[8] : heightCalcMode\n    bodyBackground = data[9]\n    bodyPadding = data[10]\n    tolerance = undefined !== data[11] ? Number(data[11]) : tolerance\n    inPageLinks.enable = undefined !== data[12] ? strBool(data[12]) : false\n    resizeFrom = undefined !== data[13] ? data[13] : resizeFrom\n    widthCalcMode = undefined !== data[14] ? data[14] : widthCalcMode\n  }\n\n  function depricate(key) {\n    var splitName = key.split('Callback')\n\n    if (splitName.length === 2) {\n      var name =\n        'on' + splitName[0].charAt(0).toUpperCase() + splitName[0].slice(1)\n      this[name] = this[key]\n      delete this[key]\n      warn(\n        \"Deprecated: '\" +\n          key +\n          \"' has been renamed '\" +\n          name +\n          \"'. The old method will be removed in the next major version.\"\n      )\n    }\n  }\n\n  function readDataFromPage() {\n    function readData() {\n      var data = window.iFrameResizer\n\n      log('Reading data from page: ' + JSON.stringify(data))\n      Object.keys(data).forEach(depricate, data)\n\n      onMessage = 'onMessage' in data ? data.onMessage : onMessage\n      onReady = 'onReady' in data ? data.onReady : onReady\n      targetOriginDefault =\n        'targetOrigin' in data ? data.targetOrigin : targetOriginDefault\n      heightCalcMode =\n        'heightCalculationMethod' in data\n          ? data.heightCalculationMethod\n          : heightCalcMode\n      widthCalcMode =\n        'widthCalculationMethod' in data\n          ? data.widthCalculationMethod\n          : widthCalcMode\n    }\n\n    function setupCustomCalcMethods(calcMode, calcFunc) {\n      if ('function' === typeof calcMode) {\n        log('Setup custom ' + calcFunc + 'CalcMethod')\n        customCalcMethods[calcFunc] = calcMode\n        calcMode = 'custom'\n      }\n\n      return calcMode\n    }\n\n    if (\n      'iFrameResizer' in window &&\n      Object === window.iFrameResizer.constructor\n    ) {\n      readData()\n      heightCalcMode = setupCustomCalcMethods(heightCalcMode, 'height')\n      widthCalcMode = setupCustomCalcMethods(widthCalcMode, 'width')\n    }\n\n    log('TargetOrigin for parent set to: ' + targetOriginDefault)\n  }\n\n  function chkCSS(attr, value) {\n    if (-1 !== value.indexOf('-')) {\n      warn('Negative CSS value ignored for ' + attr)\n      value = ''\n    }\n    return value\n  }\n\n  function setBodyStyle(attr, value) {\n    if (undefined !== value && '' !== value && 'null' !== value) {\n      document.body.style[attr] = value\n      log('Body ' + attr + ' set to \"' + value + '\"')\n    }\n  }\n\n  function setMargin() {\n    // If called via V1 script, convert bodyMargin from int to str\n    if (undefined === bodyMarginStr) {\n      bodyMarginStr = bodyMargin + 'px'\n    }\n\n    setBodyStyle('margin', chkCSS('margin', bodyMarginStr))\n  }\n\n  function stopInfiniteResizingOfIFrame() {\n    document.documentElement.style.height = ''\n    document.body.style.height = ''\n    log('HTML & body height set to \"auto\"')\n  }\n\n  function manageTriggerEvent(options) {\n    var listener = {\n      add: function(eventName) {\n        function handleEvent() {\n          sendSize(options.eventName, options.eventType)\n        }\n\n        eventHandlersByName[eventName] = handleEvent\n\n        addEventListener(window, eventName, handleEvent, { passive: true })\n      },\n      remove: function(eventName) {\n        var handleEvent = eventHandlersByName[eventName]\n        delete eventHandlersByName[eventName]\n\n        removeEventListener(window, eventName, handleEvent)\n      }\n    }\n\n    if (options.eventNames && Array.prototype.map) {\n      options.eventName = options.eventNames[0]\n      options.eventNames.map(listener[options.method])\n    } else {\n      listener[options.method](options.eventName)\n    }\n\n    log(\n      capitalizeFirstLetter(options.method) +\n        ' event listener: ' +\n        options.eventType\n    )\n  }\n\n  function manageEventListeners(method) {\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Animation Start',\n      eventNames: ['animationstart', 'webkitAnimationStart']\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Animation Iteration',\n      eventNames: ['animationiteration', 'webkitAnimationIteration']\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Animation End',\n      eventNames: ['animationend', 'webkitAnimationEnd']\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Input',\n      eventName: 'input'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Mouse Up',\n      eventName: 'mouseup'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Mouse Down',\n      eventName: 'mousedown'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Orientation Change',\n      eventName: 'orientationchange'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Print',\n      eventName: ['afterprint', 'beforeprint']\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Ready State Change',\n      eventName: 'readystatechange'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Touch Start',\n      eventName: 'touchstart'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Touch End',\n      eventName: 'touchend'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Touch Cancel',\n      eventName: 'touchcancel'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Transition Start',\n      eventNames: [\n        'transitionstart',\n        'webkitTransitionStart',\n        'MSTransitionStart',\n        'oTransitionStart',\n        'otransitionstart'\n      ]\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Transition Iteration',\n      eventNames: [\n        'transitioniteration',\n        'webkitTransitionIteration',\n        'MSTransitionIteration',\n        'oTransitionIteration',\n        'otransitioniteration'\n      ]\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Transition End',\n      eventNames: [\n        'transitionend',\n        'webkitTransitionEnd',\n        'MSTransitionEnd',\n        'oTransitionEnd',\n        'otransitionend'\n      ]\n    })\n    if ('child' === resizeFrom) {\n      manageTriggerEvent({\n        method: method,\n        eventType: 'IFrame Resized',\n        eventName: 'resize'\n      })\n    }\n  }\n\n  function checkCalcMode(calcMode, calcModeDefault, modes, type) {\n    if (calcModeDefault !== calcMode) {\n      if (!(calcMode in modes)) {\n        warn(\n          calcMode + ' is not a valid option for ' + type + 'CalculationMethod.'\n        )\n        calcMode = calcModeDefault\n      }\n      log(type + ' calculation method set to \"' + calcMode + '\"')\n    }\n\n    return calcMode\n  }\n\n  function checkHeightMode() {\n    heightCalcMode = checkCalcMode(\n      heightCalcMode,\n      heightCalcModeDefault,\n      getHeight,\n      'height'\n    )\n  }\n\n  function checkWidthMode() {\n    widthCalcMode = checkCalcMode(\n      widthCalcMode,\n      widthCalcModeDefault,\n      getWidth,\n      'width'\n    )\n  }\n\n  function startEventListeners() {\n    if (true === autoResize) {\n      manageEventListeners('add')\n      setupMutationObserver()\n    } else {\n      log('Auto Resize disabled')\n    }\n  }\n\n  function stopMsgsToParent() {\n    log('Disable outgoing messages')\n    sendPermit = false\n  }\n\n  function removeMsgListener() {\n    log('Remove event listener: Message')\n    removeEventListener(window, 'message', receiver)\n  }\n\n  function disconnectMutationObserver() {\n    if (null !== bodyObserver) {\n      /* istanbul ignore next */ // Not testable in PhantonJS\n      bodyObserver.disconnect()\n    }\n  }\n\n  function stopEventListeners() {\n    manageEventListeners('remove')\n    disconnectMutationObserver()\n    clearInterval(intervalTimer)\n  }\n\n  function teardown() {\n    stopMsgsToParent()\n    removeMsgListener()\n    if (true === autoResize) stopEventListeners()\n  }\n\n  function injectClearFixIntoBodyElement() {\n    var clearFix = document.createElement('div')\n    clearFix.style.clear = 'both'\n    // Guard against the following having been globally redefined in CSS.\n    clearFix.style.display = 'block'\n    clearFix.style.height = '0'\n    document.body.appendChild(clearFix)\n  }\n\n  function setupInPageLinks() {\n    function getPagePosition() {\n      return {\n        x:\n          window.pageXOffset !== undefined\n            ? window.pageXOffset\n            : document.documentElement.scrollLeft,\n        y:\n          window.pageYOffset !== undefined\n            ? window.pageYOffset\n            : document.documentElement.scrollTop\n      }\n    }\n\n    function getElementPosition(el) {\n      var elPosition = el.getBoundingClientRect(),\n        pagePosition = getPagePosition()\n\n      return {\n        x: parseInt(elPosition.left, 10) + parseInt(pagePosition.x, 10),\n        y: parseInt(elPosition.top, 10) + parseInt(pagePosition.y, 10)\n      }\n    }\n\n    function findTarget(location) {\n      function jumpToTarget(target) {\n        var jumpPosition = getElementPosition(target)\n\n        log(\n          'Moving to in page link (#' +\n            hash +\n            ') at x: ' +\n            jumpPosition.x +\n            ' y: ' +\n            jumpPosition.y\n        )\n        sendMsg(jumpPosition.y, jumpPosition.x, 'scrollToOffset') // X&Y reversed at sendMsg uses height/width\n      }\n\n      var hash = location.split('#')[1] || location, // Remove # if present\n        hashData = decodeURIComponent(hash),\n        target =\n          document.getElementById(hashData) ||\n          document.getElementsByName(hashData)[0]\n\n      if (undefined !== target) {\n        jumpToTarget(target)\n      } else {\n        log(\n          'In page link (#' +\n            hash +\n            ') not found in iFrame, so sending to parent'\n        )\n        sendMsg(0, 0, 'inPageLink', '#' + hash)\n      }\n    }\n\n    function checkLocationHash() {\n      if ('' !== location.hash && '#' !== location.hash) {\n        findTarget(location.href)\n      }\n    }\n\n    function bindAnchors() {\n      function setupLink(el) {\n        function linkClicked(e) {\n          e.preventDefault()\n\n          /* jshint validthis:true */\n          findTarget(this.getAttribute('href'))\n        }\n\n        if ('#' !== el.getAttribute('href')) {\n          addEventListener(el, 'click', linkClicked)\n        }\n      }\n\n      Array.prototype.forEach.call(\n        document.querySelectorAll('a[href^=\"#\"]'),\n        setupLink\n      )\n    }\n\n    function bindLocationHash() {\n      addEventListener(window, 'hashchange', checkLocationHash)\n    }\n\n    function initCheck() {\n      // Check if page loaded with location hash after init resize\n      setTimeout(checkLocationHash, eventCancelTimer)\n    }\n\n    function enableInPageLinks() {\n      /* istanbul ignore else */ // Not testable in phantonJS\n      if (Array.prototype.forEach && document.querySelectorAll) {\n        log('Setting up location.hash handlers')\n        bindAnchors()\n        bindLocationHash()\n        initCheck()\n      } else {\n        warn(\n          'In page linking not fully supported in this browser! (See README.md for IE8 workaround)'\n        )\n      }\n    }\n\n    if (inPageLinks.enable) {\n      enableInPageLinks()\n    } else {\n      log('In page linking not enabled')\n    }\n\n    return {\n      findTarget: findTarget\n    }\n  }\n\n  function setupPublicMethods() {\n    log('Enable public methods')\n\n    win.parentIFrame = {\n      autoResize: function autoResizeF(resize) {\n        if (true === resize && false === autoResize) {\n          autoResize = true\n          startEventListeners()\n        } else if (false === resize && true === autoResize) {\n          autoResize = false\n          stopEventListeners()\n        }\n\n        return autoResize\n      },\n\n      close: function closeF() {\n        sendMsg(0, 0, 'close')\n        teardown()\n      },\n\n      getId: function getIdF() {\n        return myID\n      },\n\n      getPageInfo: function getPageInfoF(callback) {\n        if ('function' === typeof callback) {\n          onPageInfo = callback\n          sendMsg(0, 0, 'pageInfo')\n        } else {\n          onPageInfo = function() {}\n          sendMsg(0, 0, 'pageInfoStop')\n        }\n      },\n\n      moveToAnchor: function moveToAnchorF(hash) {\n        inPageLinks.findTarget(hash)\n      },\n\n      reset: function resetF() {\n        resetIFrame('parentIFrame.reset')\n      },\n\n      scrollTo: function scrollToF(x, y) {\n        sendMsg(y, x, 'scrollTo') // X&Y reversed at sendMsg uses height/width\n      },\n\n      scrollToOffset: function scrollToF(x, y) {\n        sendMsg(y, x, 'scrollToOffset') // X&Y reversed at sendMsg uses height/width\n      },\n\n      sendMessage: function sendMessageF(msg, targetOrigin) {\n        sendMsg(0, 0, 'message', JSON.stringify(msg), targetOrigin)\n      },\n\n      setHeightCalculationMethod: function setHeightCalculationMethodF(\n        heightCalculationMethod\n      ) {\n        heightCalcMode = heightCalculationMethod\n        checkHeightMode()\n      },\n\n      setWidthCalculationMethod: function setWidthCalculationMethodF(\n        widthCalculationMethod\n      ) {\n        widthCalcMode = widthCalculationMethod\n        checkWidthMode()\n      },\n\n      setTargetOrigin: function setTargetOriginF(targetOrigin) {\n        log('Set targetOrigin: ' + targetOrigin)\n        targetOriginDefault = targetOrigin\n      },\n\n      size: function sizeF(customHeight, customWidth) {\n        var valString =\n          '' + (customHeight || '') + (customWidth ? ',' + customWidth : '')\n        sendSize(\n          'size',\n          'parentIFrame.size(' + valString + ')',\n          customHeight,\n          customWidth\n        )\n      }\n    }\n  }\n\n  function initInterval() {\n    if (0 !== interval) {\n      log('setInterval: ' + interval + 'ms')\n      intervalTimer = setInterval(function() {\n        sendSize('interval', 'setInterval: ' + interval)\n      }, Math.abs(interval))\n    }\n  }\n\n  // Not testable in PhantomJS\n  /* istanbul ignore next */\n  function setupBodyMutationObserver() {\n    function addImageLoadListners(mutation) {\n      function addImageLoadListener(element) {\n        if (false === element.complete) {\n          log('Attach listeners to ' + element.src)\n          element.addEventListener('load', imageLoaded, false)\n          element.addEventListener('error', imageError, false)\n          elements.push(element)\n        }\n      }\n\n      if (mutation.type === 'attributes' && mutation.attributeName === 'src') {\n        addImageLoadListener(mutation.target)\n      } else if (mutation.type === 'childList') {\n        Array.prototype.forEach.call(\n          mutation.target.querySelectorAll('img'),\n          addImageLoadListener\n        )\n      }\n    }\n\n    function removeFromArray(element) {\n      elements.splice(elements.indexOf(element), 1)\n    }\n\n    function removeImageLoadListener(element) {\n      log('Remove listeners from ' + element.src)\n      element.removeEventListener('load', imageLoaded, false)\n      element.removeEventListener('error', imageError, false)\n      removeFromArray(element)\n    }\n\n    function imageEventTriggered(event, type, typeDesc) {\n      removeImageLoadListener(event.target)\n      sendSize(type, typeDesc + ': ' + event.target.src, undefined, undefined)\n    }\n\n    function imageLoaded(event) {\n      imageEventTriggered(event, 'imageLoad', 'Image loaded')\n    }\n\n    function imageError(event) {\n      imageEventTriggered(event, 'imageLoadFailed', 'Image load failed')\n    }\n\n    function mutationObserved(mutations) {\n      sendSize(\n        'mutationObserver',\n        'mutationObserver: ' + mutations[0].target + ' ' + mutations[0].type\n      )\n\n      // Deal with WebKit / Blink asyncing image loading when tags are injected into the page\n      mutations.forEach(addImageLoadListners)\n    }\n\n    function createMutationObserver() {\n      var target = document.querySelector('body'),\n        config = {\n          attributes: true,\n          attributeOldValue: false,\n          characterData: true,\n          characterDataOldValue: false,\n          childList: true,\n          subtree: true\n        }\n\n      observer = new MutationObserver(mutationObserved)\n\n      log('Create body MutationObserver')\n      observer.observe(target, config)\n\n      return observer\n    }\n\n    var elements = [],\n      MutationObserver =\n        window.MutationObserver || window.WebKitMutationObserver,\n      observer = createMutationObserver()\n\n    return {\n      disconnect: function() {\n        if ('disconnect' in observer) {\n          log('Disconnect body MutationObserver')\n          observer.disconnect()\n          elements.forEach(removeImageLoadListener)\n        }\n      }\n    }\n  }\n\n  function setupMutationObserver() {\n    var forceIntervalTimer = 0 > interval\n\n    // Not testable in PhantomJS\n    /* istanbul ignore if */ if (\n      window.MutationObserver ||\n      window.WebKitMutationObserver\n    ) {\n      if (forceIntervalTimer) {\n        initInterval()\n      } else {\n        bodyObserver = setupBodyMutationObserver()\n      }\n    } else {\n      log('MutationObserver not supported in this browser!')\n      initInterval()\n    }\n  }\n\n  // document.documentElement.offsetHeight is not reliable, so\n  // we have to jump through hoops to get a better value.\n  function getComputedStyle(prop, el) {\n    var retVal = 0\n    el = el || document.body // Not testable in phantonJS\n\n    retVal = document.defaultView.getComputedStyle(el, null)\n    retVal = null !== retVal ? retVal[prop] : 0\n\n    return parseInt(retVal, base)\n  }\n\n  function chkEventThottle(timer) {\n    if (timer > throttledTimer / 2) {\n      throttledTimer = 2 * timer\n      log('Event throttle increased to ' + throttledTimer + 'ms')\n    }\n  }\n\n  // Idea from https://github.com/guardian/iframe-messenger\n  function getMaxElement(side, elements) {\n    var elementsLength = elements.length,\n      elVal = 0,\n      maxVal = 0,\n      Side = capitalizeFirstLetter(side),\n      timer = getNow()\n\n    for (var i = 0; i < elementsLength; i++) {\n      elVal =\n        elements[i].getBoundingClientRect()[side] +\n        getComputedStyle('margin' + Side, elements[i])\n      if (elVal > maxVal) {\n        maxVal = elVal\n      }\n    }\n\n    timer = getNow() - timer\n\n    log('Parsed ' + elementsLength + ' HTML elements')\n    log('Element position calculated in ' + timer + 'ms')\n\n    chkEventThottle(timer)\n\n    return maxVal\n  }\n\n  function getAllMeasurements(dimention) {\n    return [\n      dimention.bodyOffset(),\n      dimention.bodyScroll(),\n      dimention.documentElementOffset(),\n      dimention.documentElementScroll()\n    ]\n  }\n\n  function getTaggedElements(side, tag) {\n    function noTaggedElementsFound() {\n      warn('No tagged elements (' + tag + ') found on page')\n      return document.querySelectorAll('body *')\n    }\n\n    var elements = document.querySelectorAll('[' + tag + ']')\n\n    if (0 === elements.length) noTaggedElementsFound()\n\n    return getMaxElement(side, elements)\n  }\n\n  function getAllElements() {\n    return document.querySelectorAll('body *')\n  }\n\n  var getHeight = {\n      bodyOffset: function getBodyOffsetHeight() {\n        return (\n          document.body.offsetHeight +\n          getComputedStyle('marginTop') +\n          getComputedStyle('marginBottom')\n        )\n      },\n\n      offset: function() {\n        return getHeight.bodyOffset() // Backwards compatability\n      },\n\n      bodyScroll: function getBodyScrollHeight() {\n        return document.body.scrollHeight\n      },\n\n      custom: function getCustomWidth() {\n        return customCalcMethods.height()\n      },\n\n      documentElementOffset: function getDEOffsetHeight() {\n        return document.documentElement.offsetHeight\n      },\n\n      documentElementScroll: function getDEScrollHeight() {\n        return document.documentElement.scrollHeight\n      },\n\n      max: function getMaxHeight() {\n        return Math.max.apply(null, getAllMeasurements(getHeight))\n      },\n\n      min: function getMinHeight() {\n        return Math.min.apply(null, getAllMeasurements(getHeight))\n      },\n\n      grow: function growHeight() {\n        return getHeight.max() // Run max without the forced downsizing\n      },\n\n      lowestElement: function getBestHeight() {\n        return Math.max(\n          getHeight.bodyOffset() || getHeight.documentElementOffset(),\n          getMaxElement('bottom', getAllElements())\n        )\n      },\n\n      taggedElement: function getTaggedElementsHeight() {\n        return getTaggedElements('bottom', 'data-iframe-height')\n      }\n    },\n    getWidth = {\n      bodyScroll: function getBodyScrollWidth() {\n        return document.body.scrollWidth\n      },\n\n      bodyOffset: function getBodyOffsetWidth() {\n        return document.body.offsetWidth\n      },\n\n      custom: function getCustomWidth() {\n        return customCalcMethods.width()\n      },\n\n      documentElementScroll: function getDEScrollWidth() {\n        return document.documentElement.scrollWidth\n      },\n\n      documentElementOffset: function getDEOffsetWidth() {\n        return document.documentElement.offsetWidth\n      },\n\n      scroll: function getMaxWidth() {\n        return Math.max(getWidth.bodyScroll(), getWidth.documentElementScroll())\n      },\n\n      max: function getMaxWidth() {\n        return Math.max.apply(null, getAllMeasurements(getWidth))\n      },\n\n      min: function getMinWidth() {\n        return Math.min.apply(null, getAllMeasurements(getWidth))\n      },\n\n      rightMostElement: function rightMostElement() {\n        return getMaxElement('right', getAllElements())\n      },\n\n      taggedElement: function getTaggedElementsWidth() {\n        return getTaggedElements('right', 'data-iframe-width')\n      }\n    }\n\n  function sizeIFrame(\n    triggerEvent,\n    triggerEventDesc,\n    customHeight,\n    customWidth\n  ) {\n    function resizeIFrame() {\n      height = currentHeight\n      width = currentWidth\n\n      sendMsg(height, width, triggerEvent)\n    }\n\n    function isSizeChangeDetected() {\n      function checkTolarance(a, b) {\n        var retVal = Math.abs(a - b) <= tolerance\n        return !retVal\n      }\n\n      currentHeight =\n        undefined !== customHeight ? customHeight : getHeight[heightCalcMode]()\n      currentWidth =\n        undefined !== customWidth ? customWidth : getWidth[widthCalcMode]()\n\n      return (\n        checkTolarance(height, currentHeight) ||\n        (calculateWidth && checkTolarance(width, currentWidth))\n      )\n    }\n\n    function isForceResizableEvent() {\n      return !(triggerEvent in { init: 1, interval: 1, size: 1 })\n    }\n\n    function isForceResizableCalcMode() {\n      return (\n        heightCalcMode in resetRequiredMethods ||\n        (calculateWidth && widthCalcMode in resetRequiredMethods)\n      )\n    }\n\n    function logIgnored() {\n      log('No change in size detected')\n    }\n\n    function checkDownSizing() {\n      if (isForceResizableEvent() && isForceResizableCalcMode()) {\n        resetIFrame(triggerEventDesc)\n      } else if (!(triggerEvent in { interval: 1 })) {\n        logIgnored()\n      }\n    }\n\n    var currentHeight, currentWidth\n\n    if (isSizeChangeDetected() || 'init' === triggerEvent) {\n      lockTrigger()\n      resizeIFrame()\n    } else {\n      checkDownSizing()\n    }\n  }\n\n  var sizeIFrameThrottled = throttle(sizeIFrame)\n\n  function sendSize(triggerEvent, triggerEventDesc, customHeight, customWidth) {\n    function recordTrigger() {\n      if (!(triggerEvent in { reset: 1, resetPage: 1, init: 1 })) {\n        log('Trigger event: ' + triggerEventDesc)\n      }\n    }\n\n    function isDoubleFiredEvent() {\n      return triggerLocked && triggerEvent in doubleEventList\n    }\n\n    if (!isDoubleFiredEvent()) {\n      recordTrigger()\n      if (triggerEvent === 'init') {\n        sizeIFrame(triggerEvent, triggerEventDesc, customHeight, customWidth)\n      } else {\n        sizeIFrameThrottled(\n          triggerEvent,\n          triggerEventDesc,\n          customHeight,\n          customWidth\n        )\n      }\n    } else {\n      log('Trigger event cancelled: ' + triggerEvent)\n    }\n  }\n\n  function lockTrigger() {\n    if (!triggerLocked) {\n      triggerLocked = true\n      log('Trigger event lock on')\n    }\n    clearTimeout(triggerLockedTimer)\n    triggerLockedTimer = setTimeout(function() {\n      triggerLocked = false\n      log('Trigger event lock off')\n      log('--')\n    }, eventCancelTimer)\n  }\n\n  function triggerReset(triggerEvent) {\n    height = getHeight[heightCalcMode]()\n    width = getWidth[widthCalcMode]()\n\n    sendMsg(height, width, triggerEvent)\n  }\n\n  function resetIFrame(triggerEventDesc) {\n    var hcm = heightCalcMode\n    heightCalcMode = heightCalcModeDefault\n\n    log('Reset trigger event: ' + triggerEventDesc)\n    lockTrigger()\n    triggerReset('reset')\n\n    heightCalcMode = hcm\n  }\n\n  function sendMsg(height, width, triggerEvent, msg, targetOrigin) {\n    function setTargetOrigin() {\n      if (undefined === targetOrigin) {\n        targetOrigin = targetOriginDefault\n      } else {\n        log('Message targetOrigin: ' + targetOrigin)\n      }\n    }\n\n    function sendToParent() {\n      var size = height + ':' + width,\n        message =\n          myID +\n          ':' +\n          size +\n          ':' +\n          triggerEvent +\n          (undefined !== msg ? ':' + msg : '')\n\n      log('Sending message to host page (' + message + ')')\n      target.postMessage(msgID + message, targetOrigin)\n    }\n\n    if (true === sendPermit) {\n      setTargetOrigin()\n      sendToParent()\n    }\n  }\n\n  function receiver(event) {\n    var processRequestFromParent = {\n      init: function initFromParent() {\n        initMsg = event.data\n        target = event.source\n\n        init()\n        firstRun = false\n        setTimeout(function() {\n          initLock = false\n        }, eventCancelTimer)\n      },\n\n      reset: function resetFromParent() {\n        if (!initLock) {\n          log('Page size reset by host page')\n          triggerReset('resetPage')\n        } else {\n          log('Page reset ignored by init')\n        }\n      },\n\n      resize: function resizeFromParent() {\n        sendSize('resizeParent', 'Parent window requested size check')\n      },\n\n      moveToAnchor: function moveToAnchorF() {\n        inPageLinks.findTarget(getData())\n      },\n      inPageLink: function inPageLinkF() {\n        this.moveToAnchor()\n      }, // Backward compatability\n\n      pageInfo: function pageInfoFromParent() {\n        var msgBody = getData()\n        log('PageInfoFromParent called from parent: ' + msgBody)\n        onPageInfo(JSON.parse(msgBody))\n        log(' --')\n      },\n\n      message: function messageFromParent() {\n        var msgBody = getData()\n\n        log('onMessage called from parent: ' + msgBody)\n        // eslint-disable-next-line sonarjs/no-extra-arguments\n        onMessage(JSON.parse(msgBody))\n        log(' --')\n      }\n    }\n\n    function isMessageForUs() {\n      return msgID === ('' + event.data).substr(0, msgIdLen) // ''+ Protects against non-string messages\n    }\n\n    function getMessageType() {\n      return event.data.split(']')[1].split(':')[0]\n    }\n\n    function getData() {\n      return event.data.substr(event.data.indexOf(':') + 1)\n    }\n\n    function isMiddleTier() {\n      return (\n        (!(typeof module !== 'undefined' && module.exports) &&\n          'iFrameResize' in window) ||\n        ('jQuery' in window && 'iFrameResize' in window.jQuery.prototype)\n      )\n    }\n\n    function isInitMsg() {\n      // Test if this message is from a child below us. This is an ugly test, however, updating\n      // the message format would break backwards compatibity.\n      return event.data.split(':')[2] in { true: 1, false: 1 }\n    }\n\n    function callFromParent() {\n      var messageType = getMessageType()\n\n      if (messageType in processRequestFromParent) {\n        processRequestFromParent[messageType]()\n      } else if (!isMiddleTier() && !isInitMsg()) {\n        warn('Unexpected message (' + event.data + ')')\n      }\n    }\n\n    function processMessage() {\n      if (false === firstRun) {\n        callFromParent()\n      } else if (isInitMsg()) {\n        processRequestFromParent.init()\n      } else {\n        log(\n          'Ignored message of type \"' +\n            getMessageType() +\n            '\". Received before initialization.'\n        )\n      }\n    }\n\n    if (isMessageForUs()) {\n      processMessage()\n    }\n  }\n\n  // Normally the parent kicks things off when it detects the iFrame has loaded.\n  // If this script is async-loaded, then tell parent page to retry init.\n  function chkLateLoaded() {\n    if ('loading' !== document.readyState) {\n      window.parent.postMessage('[iFrameResizerChild]Ready', '*')\n    }\n  }\n\n  addEventListener(window, 'message', receiver)\n  addEventListener(window, 'readystatechange', chkLateLoaded)\n  chkLateLoaded()\n\n  \n})()\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}